CREATE TABLE SÆLGER
(
sælger_id INTEGER IDENTITY PRIMARY KEY,
sælgernavn VARCHAR(250),
rang VARCHAR(50),
)

CREATE TABLE POSTNUMMER
(
postnummer VARCHAR(4) PRIMARY KEY,
bynavn VARCHAR(50),
)

CREATE TABLE CPRNUMMER
(
CPR_id INTEGER IDENTITY PRIMARY KEY,
CPRnummer VARCHAR(10) UNIQUE NOT NULL,
)

CREATE TABLE KUNDE
(
kunde_id INTEGER IDENTITY PRIMARY KEY,
CPR_id INTEGER FOREIGN KEY REFERENCES CPRNUMMER(CPR_id),
kundenavn VARCHAR(250),
adresse VARCHAR(80),
postnummer VARCHAR(4) FOREIGN KEY REFERENCES postnummer(postnummer),
telefon VARCHAR(11),
kommentar VARCHAR(250)
)

CREATE TABLE BIL
(
bil_id INTEGER IDENTITY PRIMARY KEY,
pris DOUBLE
)

CREATE TABLE LÅNETILBUD
(
lånetilbud_id INTEGER IDENTITY PRIMARY KEY,
rentesats DOUBLE,
tilbagebetalingsperiode INTEGER,
udbetaling DOUBLE,
ÅOP DOUBLE,
kunde_id INTEGER FOREIGN KEY REFERENCES kunde(kunde_id),
bil_id INTEGER FOREIGN KEY REFERENCES bil(bil_id),
sælger_id INTEGER FOREIGN KEY REFERENCES sælger(sælger_id),
oprettelsestidspunkt TIMESTAMP,
)




INSERT INTO "PUBLIC"."SÆLGER"
(  "SÆLGERNAVN", "RANG" )
VALUES ( 'Anders Looft', 'CEO')

INSERT INTO "PUBLIC"."CPRNUMMER"
( "CPRNUMMER" )
VALUES ( '0807911449')

INSERT INTO "PUBLIC"."KUNDE"
( "KUNDENAVN", "CPR_ID", "ADRESSE", "POSTNUMMER", "TELEFON", "KOMMENTAR" )
VALUES ( 'Anders Looft', '0', 'Ny Møllevej 14A 1 tv', '7400', '60150191', '')

INSERT INTO "PUBLIC"."BIL" ( "PRIS" ) VALUES ( 1000000 );
INSERT INTO "PUBLIC"."BIL" ( "PRIS" ) VALUES ( 2500000 );
INSERT INTO "PUBLIC"."BIL" ( "PRIS" ) VALUES ( 3100000 );

INSERT INTO "PUBLIC"."LÅNETILBUD"
(  "RENTESATS", "TILBAGEBETALINGSPERIODE", "UDBETALING", "ÅOP", "KUNDE_ID", "BIL_ID", "SÆLGER_ID", "OPRETTELSESTIDSPUNKT" )
VALUES ( '7.3', '18' , '500000' , '1.3', '3', '0', '0', '2015-06-05 09:24:08')


SELECT rentesats, tilbagebetalingsperiode, udbetaling, ÅOP, oprettelsestidspunkt, kunde.kundenavn, kunde.adresse, kunde.postnummer, postnummer.bynavn, kunde.telefon, kunde.kommentar, CPRnummer.CPRnummer, bil.pris, sælger.sælgernavn, sælger.rang FROM lånetilbud INNER JOIN bil ON lånetilbud.bil_id = bil.bil_id INNER JOIN kunde ON lånetilbud.kunde_id = kunde.kunde_id INNER JOIN sælger ON lånetilbud.sælger_id = sælger.sælger_id INNER JOIN postnummer ON postnummer.postnummer = kunde.postnummer INNER JOIN CPRnummer ON kunde.CPR_id = CPRnummer.CPR_id;